<!-- <div class="d-md-flex justify-content-between py-3">
  <div class="col-md-4 range-picker">
    <mat-form-field appearance="outline">
      <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
        <input matStartDate formControlName="start" placeholder="Start date" #dateRangeStart>
        <input matEndDate formControlName="end" placeholder="End date" #dateRangeEnd
          (dateChange)="filterByDate(dateRangeStart,dateRangeEnd)">
      </mat-date-range-input>
      <mat-datepicker-toggle [for]="picker"></mat-datepicker-toggle>
      <mat-date-range-picker #picker></mat-date-range-picker>

    </mat-form-field>
  </div>


</div> -->
<div class="d-flex align-items-center">
  <span class="pl-4 text-color ft-size-18"> {{currentYear}}</span>
  <button mat-button class="button month-btn d-flex flex-perfect-center ml-5"
    (click)="prevMonth(months.indexOf(currentMonth))">
    <img src="assets/images/prev.png">
  </button>
  <div class="month">{{currentMonth}}</div>
  <button mat-button class="button month-btn d-flex flex-perfect-center"
    (click)="nextMonth(months.indexOf(currentMonth))">
    <img src="assets/images/next.png">

  </button>
</div>
<div class="calendar-container" #calendarLayer>
  <!-- ########### BOTTOM PANNEL ########### -->
  <div class="time-display-wrapper">
    <div class="toolbar-slice">
      <mat-toolbar class="toolbar d-flex p-2" [matMenuTriggerFor]="toolbarMenu">
        <button mat-button class="button week d-flex flex-perfect-center" (click)="prevWeek()">
          <img src="assets/images/prev.png">
        </button>
        <button mat-button class="button week d-flex flex-perfect-center" (click)="nextWeek()">
          <img src="assets/images/next.png">

        </button>

      </mat-toolbar>


    </div>
    <div class="time-display p-1" #timeDisplay *ngFor="let time of timeLists">
     <span class="accent"> {{ time.date }}</span>( {{ time.day}} )
    </div>
  </div>

  <div class="bottom-pannel d-flex pb-5" [class.no-appointment]="appointmentTimes.length <= 0">
    <div class="appointments d-flex flex-column align-items-center">
      <ng-container *ngIf="appointmentTimes.length >= 1">

        <div class="toolbar-slice" *ngFor="let item of appointmentTimes; let i = index; trackBy:trackByTimeId">

          <mat-toolbar class="toolbar p-2" [matMenuTriggerFor]="toolbarMenu">
            <div class="w-100 d-flex align-items-center flex-column">
              <span class="d-block mt-1 w-100 specialist-name-lable">{{item.time}}</span>

            </div>

          </mat-toolbar>


        </div>

      </ng-container>
    </div>

    <div class="bottom-pannel-layer d-flex" #BottomPannelLayer [class.d-none]="appointments.length <= 0">
      <!--  [scrollTop]="scrollTopPostion" -->

      <!-- <div>
      <div class="d-flex" style="position: relative;"> -->
      <div class="bottom-pannel-rside light-scroll" #calendarWrapper (scroll)="calendarScrollX($event, calendarWrapper)"
        *ngIf="appointments && appointments.length >= 1">


        <div class="rside-slice" #scheduleColumnWrapper>

          <ng-container *ngFor="let appointment of appointments; let index = index;">
            <div class="appointment-height d-flex" *ngFor="let item of appointmentTimes; trackBy:trackByTimeId;">
              <div *ngFor="let time of timeLists; trackBy:trackByTimeId;">
                <div class="d-flex h-100 w-100">

                  <div class="time-item">
                    <div class="time-viewer h-100 p-1">
                      <!-- {{ item }}-->
                    </div>
                  </div>
                </div>
              </div>
              <ng-container *ngIf="appointment.length!==0">
                <!-- appointments & blocked time -->
                <ng-container *ngFor="let appointmentItem of appointments; trackBy:trackByAppointmentId;">

                  <div class="d-flex flex-perfect-center booked"
                    [appAppointmentPosition]="[appointment.timeId,appointmentItem.date]">
                    <!-- [appAppointmentPosition]="[appointment.re turnDate,appointment.pickupDate,appointment.pickupDate.split('T')[1],appointment.returnDate.split('T')[1],calendarHeight,scheduleColumnWidth,appointment.overlapCount,index, range.value.start,range.value.end]" -->
                    დაჯავშნილია
                    <!-- აქ პირობა უნდა დავადო ექიმისა და კლიენტის მიხედვით რა ტექსტი გამოჩნდეს -->
                    <!-- <b>{{appointment.costumer}}</b>
                    <div>{{ appointment.pickupDate | date : 'dd/MM/YYYY HH:mm'}} -
                      {{ appointment.returnDate | date : 'dd/MM/YYYY HH:mm'}}</div> -->


                  </div>
                  <!-- </div> -->

                </ng-container>
              </ng-container>
            </div>
          </ng-container>
        </div>
      </div>
    </div>

    <!-- </div>
  </div> -->

    <div class="p-4 d-flex justify-content-center align-items-center h-100" *ngIf="appointments.length <= 0">

      <div class="d-flex text-center staff-member-warning" *ngIf="!loadingFlag">
        <i class="fal fa-calendar-times text-secondary"></i>

        <div class="mt-4 mb-3">
          <h1 class="mb-3 mat-heading">მონაცემები არ მოიძებნა</h1>
          <!-- <span>
            {{ 'EmptyOrders' | translate }}
          </span> -->
        </div>

        <!-- <button mat-raised-button color="primary" routerLink="/staff/add">
          {{ 'AddEmployee' | translate }}
        </button> -->

      </div>

    </div>

  </div>
</div>

<!-- <app-page-loader class="fixed-loader" *ngIf="loadingFlag"></app-page-loader> -->